<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
 <mapper namespace="com.kkj.mybatis">
 	<select id="listProduct" resultType="ProductDto">
	SELECT * FROM product order by pdtid asc
	</select>
	<insert id="insertProduct" parameterType="ProductDto">
	INSERT INTO product values(
				seq_product.nextval,
				#{pdtName},
				#{pdtCty},
				#{pdtContent},
				#{pdtPrice},
				#{pdtCount},
				default,
				default,
				null,
				#{pdtThum},
				#{pdtColor}
	)
	</insert>
	<select id="detailProduct" parameterType="int" resultType="ProductDto">
		SELECT * FROM product where pdtId = #{pdtId}
	</select>
	
	<select id="listImage" parameterType="int" resultType="ImageDto">
		SELECT i.* FROM product p 
			RIGHT OUTER JOIN PDT_IMG i
				ON p.pdtId = i.pdtId
					WHERE p.pdtid = #{pdtId} 
	</select>
	
	<select id="listImage2" resultType="ImageDto">
		SELECT * from pdt_img
	</select>
	
	<insert id="inserImage" parameterType="ImageDao">
	</insert>
	
</mapper>